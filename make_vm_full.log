cd minified && make LLVM=1 tinyconfig && make LLVM=1 -j6
#
# configuration written to .config
#
Using .config as base
Merging ./kernel/configs/tiny.config
Value of CONFIG_BLK_DEV_INITRD is redefined by fragment ./kernel/configs/tiny.config:
Previous value: # CONFIG_BLK_DEV_INITRD is not set
New value: CONFIG_BLK_DEV_INITRD=y

Value of CONFIG_BINFMT_ELF is redefined by fragment ./kernel/configs/tiny.config:
Previous value: # CONFIG_BINFMT_ELF is not set
New value: CONFIG_BINFMT_ELF=y

Value of CONFIG_TTY is redefined by fragment ./kernel/configs/tiny.config:
Previous value: # CONFIG_TTY is not set
New value: CONFIG_TTY=y

Value of CONFIG_CC_OPTIMIZE_FOR_SIZE is redefined by fragment ./kernel/configs/tiny.config:
Previous value: # CONFIG_CC_OPTIMIZE_FOR_SIZE is not set
New value: CONFIG_CC_OPTIMIZE_FOR_SIZE=y

Value of CONFIG_KERNEL_GZIP is redefined by fragment ./kernel/configs/tiny.config:
Previous value: CONFIG_KERNEL_GZIP=y
New value: # CONFIG_KERNEL_GZIP is not set

Value of CONFIG_KERNEL_XZ is redefined by fragment ./kernel/configs/tiny.config:
Previous value: # CONFIG_KERNEL_XZ is not set
New value: CONFIG_KERNEL_XZ=y

Value of CONFIG_LTO_NONE is redefined by fragment ./kernel/configs/tiny.config:
Previous value: CONFIG_LTO_NONE=y
New value: # CONFIG_LTO_NONE is not set

Value of CONFIG_LTO_CLANG_FULL is redefined by fragment ./kernel/configs/tiny.config:
Previous value: # CONFIG_LTO_CLANG_FULL is not set
New value: CONFIG_LTO_CLANG_FULL=y

Merging ./arch/x86/configs/tiny.config
Value of CONFIG_NOHIGHMEM is redefined by fragment ./arch/x86/configs/tiny.config:
Previous value: # CONFIG_NOHIGHMEM is not set
New value: CONFIG_NOHIGHMEM=y

Value of CONFIG_HIGHMEM4G is redefined by fragment ./arch/x86/configs/tiny.config:
Previous value: CONFIG_HIGHMEM4G=y
New value: # CONFIG_HIGHMEM4G is not set

Value of CONFIG_UNWINDER_GUESS is redefined by fragment ./arch/x86/configs/tiny.config:
Previous value: # CONFIG_UNWINDER_GUESS is not set
New value: CONFIG_UNWINDER_GUESS=y

Value of CONFIG_UNWINDER_FRAME_POINTER is redefined by fragment ./arch/x86/configs/tiny.config:
Previous value: CONFIG_UNWINDER_FRAME_POINTER=y
New value: # CONFIG_UNWINDER_FRAME_POINTER is not set

#
# merged configuration written to .config (needs make)
#
.config:824:warning: override: CC_OPTIMIZE_FOR_SIZE changes choice state
#
# configuration written to .config
#
  SYNC    include/config/auto.conf
  CALL    scripts/atomic/check-atomics.sh
warning: generated include/linux/atomic/atomic-long.h has been modified.
  CALL    scripts/checksyscalls.sh
warning: generated include/linux/atomic/atomic-arch-fallback.h has been modified.
  CHK     include/generated/compile.h
  CC      lib/vsprintf.o
In file included from lib/vsprintf.c:36:
In file included from ./include/linux/rtc.h:37:
In file included from ./include/linux/device.h:30:
./include/linux/device/bus.h:190:63: warning: declaration of 'struct device_node' will not be visible outside of this function [-Wvisibility]
  190 | bus_find_device_by_of_node(struct bus_type *bus, const struct device_node *np)
      |                                                               ^
In file included from lib/vsprintf.c:36:
In file included from ./include/linux/rtc.h:37:
In file included from ./include/linux/device.h:31:
./include/linux/device/class.h:140:64: warning: declaration of 'struct device_node' will not be visible outside of this function [-Wvisibility]
  140 | class_find_device_by_of_node(struct class *class, const struct device_node *np)
      |                                                                ^
In file included from lib/vsprintf.c:36:
In file included from ./include/linux/rtc.h:37:
In file included from ./include/linux/device.h:32:
./include/linux/device/driver.h:185:23: warning: declaration of 'struct device_node' will not be visible outside of this function [-Wvisibility]
  185 |                               const struct device_node *np)
      |                                            ^
In file included from lib/vsprintf.c:36:
./include/linux/rtc.h:223:15: warning: declaration of 'struct nvmem_config' will not be visible outside of this function [-Wvisibility]
  223 |                                           struct nvmem_config *nvmem_config)
      |                                                  ^
In file included from lib/vsprintf.c:40:
In file included from ./include/net/addrconf.h:52:
In file included from ./include/linux/ipv6.h:76:
In file included from ./include/linux/tcp.h:6:
In file included from ./include/net/sock.h:46:
In file included from ./include/linux/netdevice.h:40:
In file included from ./include/net/xdp.h:9:
./include/linux/skbuff.h:1487:31: warning: declaration of 'struct ts_config' will not be visible outside of this function [-Wvisibility]
 1487 |                            unsigned int to, struct ts_config *config);
      |                                                    ^
In file included from lib/vsprintf.c:40:
In file included from ./include/net/addrconf.h:52:
In file included from ./include/linux/ipv6.h:76:
In file included from ./include/linux/tcp.h:6:
In file included from ./include/net/sock.h:46:
./include/linux/netdevice.h:1244:17: warning: declaration of 'struct rtnl_link_stats64' will not be visible outside of this function [-Wvisibility]
 1244 |                                                    struct rtnl_link_stats64 *storage);
      |                                                           ^
./include/linux/netdevice.h:1269:19: warning: declaration of 'struct ifla_vf_info' will not be visible outside of this function [-Wvisibility]
 1269 |                                                      struct ifla_vf_info *ivf);
      |                                                             ^
./include/linux/netdevice.h:1274:18: warning: declaration of 'struct ifla_vf_stats' will not be visible outside of this function [-Wvisibility]
 1274 |                                                     struct ifla_vf_stats
      |                                                            ^
./include/linux/netdevice.h:1283:17: warning: declaration of 'struct ifla_vf_guid' will not be visible outside of this function [-Wvisibility]
 1283 |                                                    struct ifla_vf_guid *node_guid,
      |                                                           ^
In file included from lib/vsprintf.c:40:
In file included from ./include/net/addrconf.h:52:
In file included from ./include/linux/ipv6.h:76:
In file included from ./include/linux/tcp.h:6:
In file included from ./include/net/sock.h:49:
./include/linux/security.h:64:9: warning: 'CAP_OPT_NONE' macro redefined [-Wmacro-redefined]
   64 | #define CAP_OPT_NONE 0x0
      |         ^
./include/uapi/linux/capability.h:336:9: note: previous definition is here
  336 | #define CAP_OPT_NONE    0
      |         ^
In file included from lib/vsprintf.c:40:
In file included from ./include/net/addrconf.h:52:
In file included from ./include/linux/ipv6.h:76:
In file included from ./include/linux/tcp.h:6:
In file included from ./include/net/sock.h:53:
In file included from ./include/linux/memcontrol.h:13:
./include/linux/cgroup.h:41:44: warning: declaration of 'struct cgroupstats' will not be visible outside of this function [-Wvisibility]
   41 | static inline int cgroupstats_build(struct cgroupstats *stats,
      |                                            ^
In file included from lib/vsprintf.c:40:
In file included from ./include/net/addrconf.h:55:
./include/net/ipv6.h:508:13: error: incomplete definition of type 'struct inet6_dev'
  508 |         return idev->cnf.forwarding ? idev->cnf.accept_ra == 2 :
      |                ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
In file included from ./include/net/addrconf.h:55:
./include/net/ipv6.h:508:36: error: incomplete definition of type 'struct inet6_dev'
  508 |         return idev->cnf.forwarding ? idev->cnf.accept_ra == 2 :
      |                                       ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
In file included from ./include/net/addrconf.h:55:
./include/net/ipv6.h:509:10: error: incomplete definition of type 'struct inet6_dev'
  509 |             idev->cnf.accept_ra;
      |             ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
In file included from ./include/net/addrconf.h:55:
./include/net/ipv6.h:1025:15: error: unknown type name 'dscp_t'
 1025 | static inline dscp_t ip6_dscp(__be32 flowinfo)
      |               ^
./include/net/ipv6.h:1027:9: error: call to undeclared function 'inet_dsfield_to_dscp'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
 1027 |         return inet_dsfield_to_dscp(ip6_tclass(flowinfo));
      |                ^
./include/net/ipv6.h:1068:14: warning: declaration of 'struct rt6_info' will not be visible outside of this function [-Wvisibility]
 1068 |                     struct rt6_info *rt, unsigned int flags);
      |                            ^
./include/net/ipv6.h:1077:18: warning: declaration of 'struct inet_cork_full' will not be visible outside of this function [-Wvisibility]
 1077 |                                struct inet_cork_full *cork,
      |                                       ^
./include/net/ipv6.h:1084:16: warning: declaration of 'struct rt6_info' will not be visible outside of this function [-Wvisibility]
 1084 |                              struct rt6_info *rt, unsigned int flags,
      |                                     ^
./include/net/ipv6.h:1085:16: warning: declaration of 'struct inet_cork_full' will not be visible outside of this function [-Wvisibility]
 1085 |                              struct inet_cork_full *cork);
      |                                     ^
./include/net/ipv6.h:1089:50: error: call to undeclared function 'inet_sk'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
 1089 |         return __ip6_make_skb(sk, &sk->sk_write_queue, &inet_sk(sk)->cork,
      |                                                         ^
./include/net/ipv6.h:1089:63: error: member reference type 'int' is not a pointer
 1089 |         return __ip6_make_skb(sk, &sk->sk_write_queue, &inet_sk(sk)->cork,
      |                                                         ~~~~~~~~~~~  ^
./include/net/ipv6.h:1227:6: error: call to undeclared function 'inet_sk'; ISO C99 and later do not support implicit function declarations [-Wimplicit-function-declaration]
 1227 |         if (inet_sk(sk)->inet_num)
      |             ^
./include/net/ipv6.h:1227:19: error: member reference type 'int' is not a pointer
 1227 |         if (inet_sk(sk)->inet_num)
      |             ~~~~~~~~~~~  ^
In file included from lib/vsprintf.c:40:
./include/net/addrconf.h:363:21: error: incomplete definition of type 'struct inet6_dev'
  363 |                 refcount_inc(&idev->refcnt);
      |                               ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
./include/net/addrconf.h:372:20: error: incomplete definition of type 'struct inet6_dev'
  372 |         return idev ? idev->nd_parms : NULL;
      |                       ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
./include/net/addrconf.h:379:33: error: incomplete definition of type 'struct inet6_dev'
  379 |         if (refcount_dec_and_test(&idev->refcnt))
      |                                    ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
./include/net/addrconf.h:395:20: error: incomplete definition of type 'struct inet6_dev'
  395 |         refcount_dec(&idev->refcnt);
      |                       ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
./include/net/addrconf.h:400:20: error: incomplete definition of type 'struct inet6_dev'
  400 |         refcount_inc(&idev->refcnt);
      |                       ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
./include/net/addrconf.h:408:15: error: incomplete definition of type 'const struct inet6_dev'
  408 |         return !!idev->cnf.ignore_routes_with_linkdown;
      |                  ~~~~^
./include/linux/netdevice.h:1929:9: note: forward declaration of 'struct inet6_dev'
 1929 |         struct inet6_dev __rcu  *ip6_ptr;
      |                ^
In file included from lib/vsprintf.c:40:
./include/net/addrconf.h:415:34: error: no member named 'refcnt' in 'struct inet6_ifaddr'
  415 |         if (refcount_dec_and_test(&ifp->refcnt))
      |                                    ~~~  ^
./include/net/addrconf.h:421:21: error: no member named 'refcnt' in 'struct inet6_ifaddr'
  421 |         refcount_dec(&ifp->refcnt);
      |                       ~~~  ^
./include/net/addrconf.h:426:21: error: no member named 'refcnt' in 'struct inet6_ifaddr'
  426 |         refcount_inc(&ifp->refcnt);
      |                       ~~~  ^
lib/vsprintf.c:1886:42: warning: declaration of 'struct clk' will not be visible outside of this function [-Wvisibility]
 1886 | char *clock(char *buf, char *end, struct clk *clk, struct printf_spec spec,
      |                                          ^
16 warnings and 18 errors generated.
make[2]: *** [scripts/Makefile.build:249: lib/vsprintf.o] Error 1
make[1]: *** [Makefile:1839: lib] Error 2
make: *** [Makefile:13: vm] Error 2
